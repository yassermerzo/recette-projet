(this["webpackJsonprecette-projet"]=this["webpackJsonprecette-projet"]||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(21),s=a(10),i=a(25),l=a(24),c=a(0),o=a.n(c),d=a(14),h=a.n(d),m=a(152),u=a(150),g=a(147),E=a(52),p=a(148),v=a(146),f=(a(76),a(149)),b=a(144),y=a(145),S=a(151),j=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={name:"",ingredients:""},r.changerNom=r.changerNom.bind(Object(s.a)(r)),r.changerIngredients=r.changerIngredients.bind(Object(s.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(s.a)(r)),r.handleCancel=r.handleCancel.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"changerNom",value:function(e){this.setState({name:e.target.value})}},{key:"changerIngredients",value:function(e){this.setState({ingredients:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();(0,this.props.onAdd)({name:this.state.name,ingredients:this.state.ingredients.split(/\s*,\s*/)}),this.setState({name:"",ingredients:""})}},{key:"handleCancel",value:function(){var e=this.props.onAddModal;this.setState({name:"",ingredients:""}),e()}},{key:"render",value:function(){var e=this.props.onShow,t=/^\S/.test(this.state.name)&&/^[^,\s]/.test(this.state.ingredients)&&/[^,\s]$/.test(this.state.ingredients);return o.a.createElement(f.a,{className:"recette",show:e,onHide:this.handleCancel},o.a.createElement("div",{className:"recette"},o.a.createElement(f.a.Header,{closeButton:!0},o.a.createElement(f.a.Title,null,"Nouvelle Recette")),o.a.createElement(f.a.Body,null,o.a.createElement(b.a,{controlId:"formControlsName"},o.a.createElement(y.a,null,"Nom de la Recette"),o.a.createElement(S.a,{type:"text",required:!0,onChange:this.changerNom,value:this.state.name,placeholder:"Entrer le Nom"})),o.a.createElement(b.a,{controlId:"formControlsIngredients"},o.a.createElement(y.a,null,"Ingredients de la Recette"),o.a.createElement(S.a,{componentClass:"textarea",type:"text",required:!0,onChange:this.changerIngredients,value:this.state.ingredients,placeholder:"Entrer les Ingr\xe9dients(separ\xe9s par virgules)"}))),o.a.createElement(f.a.Footer,null,o.a.createElement(v.a,{disabled:!t,className:"save",onClick:this.handleSubmit},"Sauvegarder Recette"))))}}]),a}(o.a.Component),N=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={name:"",ingredients:""},r.changerNom=r.changerNom.bind(Object(s.a)(r)),r.changerIngredients=r.changerIngredients.bind(Object(s.a)(r)),r.handleEdit=r.handleEdit.bind(Object(s.a)(r)),r.handleCancel=r.handleCancel.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"changerNom",value:function(e){this.setState({name:e.target.value})}},{key:"changerIngredients",value:function(e){this.setState({ingredients:e.target.value})}},{key:"handleEdit",value:function(e){e.preventDefault();var t=this.props.onEdit,a=this.props.currentlyEditing;t(this.state.name,this.state.ingredients.split(/\s*,\s*/),a)}},{key:"handleCancel",value:function(){var e=this.props.onEditModal;this.setState({name:this.props.recette.name,ingredients:this.props.recette.ingredients.join(",")}),e()}},{key:"render",value:function(){var e=this.props.onShow,t=/^\S/.test(this.state.name)&&/^[^,\s]/.test(this.state.ingredients)&&/[^,\s]$/.test(this.state.ingredients);return o.a.createElement(f.a,{modalClassName:"modal-dialog",show:e,onHide:this.handleCancel},o.a.createElement("div",{className:"recette"},o.a.createElement(f.a.Header,{closeButton:!0},o.a.createElement(f.a.Title,null,"Modifier la Recette")),o.a.createElement(f.a.Body,null,o.a.createElement(b.a,{formClassName:"test",controlId:"formControlsName"},o.a.createElement(y.a,null,"Nom de la Recette"),o.a.createElement(S.a,{type:"text",required:!0,onChange:this.changerNom,value:this.state.name,placeholder:"Entrer le Nom"})),o.a.createElement(b.a,{controlId:"formControlsIngredients"},o.a.createElement(y.a,null,"Ingredients de la Recette"),o.a.createElement(S.a,{componentClass:"textarea",type:"text",required:!0,onChange:this.changerIngredients,value:this.state.ingredients,placeholder:"Entrer les Ingr\xe9dients(separ\xe9s par virgules)"}))),o.a.createElement(f.a.Footer,null,o.a.createElement(v.a,{className:"save",disabled:!t,onClick:this.handleEdit},"Sauvegarder la Recette"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.prevName,n=t.prevIngredients,r=a!==e.recette.name?e.recette.name:t.name,s=n!==e.recette.ingredients.join(",")?e.recette.ingredients.join(","):t.ingredients;return{prevName:e.recette.name,name:r,prevIngredients:e.recette.ingredients.join(","),ingredients:s}}}]),a}(o.a.Component),O=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={recettes:[],showAdd:!1,showEdit:!1,currentlyEditing:0},r.showAddModal=r.showAddModal.bind(Object(s.a)(r)),r.showEditModal=r.showEditModal.bind(Object(s.a)(r)),r.ajouterRecette=r.ajouterRecette.bind(Object(s.a)(r)),r.modifierRecette=r.modifierRecette.bind(Object(s.a)(r)),r.suprimerRecette=r.suprimerRecette.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e="undefined"!==typeof localStorage.recettes?JSON.parse(localStorage.getItem("recettes")):[{name:"Cr\xeapes",ingredients:["250g de Farine","4 Oeufs","1/2 litre de lait","Pinc\xe9e de Sel","2 c \xe0 s de Sucre","50g de Beurre fondu"]}];this.setState({recettes:e})}},{key:"showAddModal",value:function(){this.setState({showAdd:!this.state.showAdd})}},{key:"showEditModal",value:function(e){this.setState({currentlyEditing:e,showEdit:!this.state.showEdit})}},{key:"ajouterRecette",value:function(e){var t=this.state.recettes;t.push(e),localStorage.setItem("recettes",JSON.stringify(t)),this.setState({recettes:t}),this.showAddModal()}},{key:"modifierRecette",value:function(e,t,a){var n=this.state.recettes;n[a]={name:e,ingredients:t},localStorage.setItem("recettes",JSON.stringify(n)),this.setState({recettes:n}),this.showEditModal(a)}},{key:"suprimerRecette",value:function(e){var t=this.state.recettes.slice();t.splice(e,1),localStorage.setItem("recettes",JSON.stringify(t)),this.setState({recettes:t,currentlyEditing:0})}},{key:"render",value:function(){var e=this,t=this.state.recettes,a=this.state.currentlyEditing;return o.a.createElement("div",{className:"recette"},o.a.createElement("h1",null,"Boite \xe0 Recettes"),o.a.createElement(m.a,{accordion:!0,id:"recettes"},t.map((function(n,r){return o.a.createElement(u.a,{className:"recette",eventKey:r,key:r},o.a.createElement(u.a.Heading,null,o.a.createElement(u.a.Title,{className:"title",toggle:!0},n.name)),o.a.createElement(u.a.Body,{collapsible:!0},o.a.createElement(g.a,null,n.ingredients.map((function(e,t){return o.a.createElement(E.a,{className:"ingr",key:t},e)}))),o.a.createElement(p.a,null,o.a.createElement(v.a,{className:"mod",onClick:function(){e.showEditModal(r)}},"Modifier"),o.a.createElement(v.a,{className:"sup",onClick:function(){e.suprimerRecette(r)}},"Suprimer"))),o.a.createElement(N,{onShow:e.state.showEdit,onEdit:e.modifierRecette,onEditModal:function(){e.showEditModal(a)},currentlyEditing:a,recette:t[a]}))}))),o.a.createElement(v.a,{className:"save",onClick:this.showAddModal},"Ajouter une Recette"),o.a.createElement(j,{onShow:this.state.showAdd,onAdd:this.ajouterRecette,onAddModal:this.showAddModal}))}}]),a}(o.a.Component);h.a.render(o.a.createElement(O,null),document.getElementById("app"))},71:function(e,t,a){e.exports=a(143)},76:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.a5011734.chunk.js.map